## tcp三次握手和四次挥手的流程
### 三次握手
* 客户端发送seq随机码，ack=1到服务端，客户端进入同步已发送状态syn-sent
* 服务端接收到客户端的请求以及seq，加上1给ack并且返回,服务器进入syn-rcvd，同步收到的状态
* 客户端收到服务端的确认消息，给服务端发送确认消息，ack的值加一返回，进入建立链接状态，这个时候服务器也进入建立链接状态。
### tcp四次挥手
* 客户端发送FIN中断链接请求到服务端，意思是我客户端没有消息要发送给你了。fin=1，seq=u，进入fin_wait
* 服务端接收到之后处于半关闭状态，客户端-服务端的的链接释放，b发送ack=u+1,进入close-wait
* 服务端发送链接释放报文段，u+1，给客户端。进入最后确认阶段
* 客户端收到服务端的释放报文段之后，发送ack=ack+1，等待2ms之后关闭。
### 问题
* 为何需要三次握手，而不是两次握手就可以？
``` js
主要为了防止已失效的连接请求报文段突然又传送到了B，因而产生错误,可能第一次链接由于网络原因报文丢失了，于是a重新传递，等链接之后，a又达到了，那么又会建立新的链接，但是此时a不会再理会b了。造成资源浪费。
```
* 为何握手需要三次，而挥手确需要四次呐？
```
由于服务器收到客户端的断开链接，这个时候可能还有数据在向客户端发送。
```